const pref=JSON.parse(sessionStorage.getItem("sp")||"{}");function setPref(){const e=JSON.stringify(pref);sessionStorage.setItem("sp",e),document.documentElement.setAttribute("data-sp",e)}customElements.define("toggle-pref",class extends HTMLElement{constructor(){super(),this.name=this.dataset.name,this.value=this.dataset.value,this.input=this.querySelector("input")}connectedCallback(){this.input.addEventListener("change",()=>{pref[this.name]=this.value,setPref()}),pref[this.name]===this.value&&this.input.setAttribute("checked","true")}});